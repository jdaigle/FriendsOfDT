@model FODT.Views.Person.ListPersonMediaViewModel

<div style="text-align:center;">
    <h3>Media for <a href="@Url.Action(MVC.Person.Get(Model.PersonId))">@Model.PersonFullname</a></h3>
    @if (Model.RelatedMedia.Count == 0)
    {
        <h4>No associated media found!</h4><h4>Would you like to <a href="@Url.Action(MVC.Media.Upload())">upload some</a>?</h4>
    }
</div>
@if (Model.RelatedMedia.Any())
{
    <div style="text-align:center;">
        <p>
            <a href="@Url.Action(MVC.Media.Upload())">Upload more images for this person</a>
        </p>
    </div>
    var rowCount = Math.Ceiling((double)Model.RelatedMedia.Count / 4d);
    <table class="table media">
        <tbody>
            @for (int i = 0; i < rowCount; i++)
            {
                <tr>
                    @foreach (var item in Model.RelatedMedia.Skip(i * 4).Take(4))
                    {
                        <td>
                            <a href="@Url.Action(MVC.Person.GetPersonMedia(Model.PersonId, item.MediaItemId))">
                                <img src="@Url.Action(MVC.Media.GetItemThumbnail(item.MediaItemId))"></a>
                        </td>
                    }
                </tr>
            }
        </tbody>
    </table>
    <div style="text-align:center;">
        <p>
            <a href="@Url.Action(MVC.Media.Upload())">Upload more images for this person</a>
        </p>
    </div>
}