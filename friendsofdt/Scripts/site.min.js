/* JsRender v1.0pre - (jsrender.js version: does not require jQuery): http://github.com/BorisMoore/jsrender */
window.JsViews||window.jQuery&&jQuery.views||(function(G,i){var e,y,d,s,C,E,n,g,k,p,D=false,A=true,m=G.jQuery,o=G.document,w=/^[^<]*(<[\w\W]+>)[^>]*$|\{\{\! /,a=/^(true|false|null|[\d\.]+)|(\w+|\$(view|data|ctx|(\w+)))([\w\.]*)|((['"])(?:\\\1|.)*\7)$/g,h=/(\$?[\w\.\[\]]+)(?:(\()|\s*(===|!==|==|!=|<|>|<=|>=)\s*|\s*(\=)\s*)?|(\,\s*)|\\?(\')|\\?(\")|(\))|(\s+)/g,q=/\r?\n/g,B=/\\(['"])/g,u=/\\?(['"])/g,x=/\x08([^\x08]+)\x08/g,f=0,b={"&":"&amp;","<":"&lt;",">":"&gt;"},t=/[\x00"&'<>]/g,r=Array.prototype.slice;
if(m){e=m;
e.fn.extend({render:function(I,H,K,J){return E(I,this[0],H,K,J)
},template:function(H,I){return e.template(H,this[0],I)
}})
}else{y=G.$;
G.JsViews=d=G.$=e={extend:function(H,I){var J;
for(J in I){H[J]=I[J]
}return H
},isArray:Array.isArray||function(H){return Object.prototype.toString.call(H)==="[object Array]"
},noConflict:function(){if(G.$===d){G.$=y
}return d
}}
}p=e.extend;
function z(J,I,K,H,M){K=K||{viewsCount:0,ctx:s.helpers};
var L=K&&K.ctx;
return{jsViews:"v1.0pre",path:I||"",itemNumber:++K.viewsCount||1,viewsCount:0,tmpl:M,data:H||K.data||{},ctx:J&&J===L?L:(L?p(p({},L),J):J||{}),parent:K}
}p(e,{views:s={templates:{},tags:{"if":function(){var I=this,H=I._view;
H.onElse=function(M,K){var J=0,L=K.length;
while(L&&!K[J++]){if(J===L){return""
}}H.onElse=i;
return E(H.data,M.tmpl,H.ctx,H)
};
return H.onElse(this,arguments)
},"else":function(){var H=this._view;
return H.onElse?H.onElse(this,arguments):""
},each:function(){var H,I=this,M="",N=arguments,J=N.length,L=I.tmpl,K=I._view;
for(H=0;
H<J;
H++){M+=N[H]?E(N[H],L,I.ctx||K.ctx,K,I._path,I._ctor):""
}return J?M:M+E(K.data,L,K.ctx,K,I._path,I.tag)
},"=":function(H){return H
},"*":function(H){return H
}},helpers:{not:function(H){return !H
}},allowCode:D,debugMode:A,err:function(H){return s.debugMode?("<br/><b>Error:</b> <em> "+(H.message||H)+". </em>"):'""'
},setDelimiters:function(I,J){var K=J.charAt(0),H=J.charAt(1);
I="\\"+I.charAt(0)+"\\"+I.charAt(1);
J="\\"+K+"\\"+H;
n=I+"(?:(?:(\\#)?(\\w+(?=[!\\s\\"+K+"]))|(?:(\\=)|(\\*)))\\s*((?:[^\\"+K+"]|\\"+K+"(?!\\"+H+"))*?)(!(\\w*))?|(?:\\/([\\w\\$\\.\\[\\]]+)))"+J;
n=new RegExp(n,"g")
},registerTags:g=function(J,I){var H;
if(typeof J==="object"){for(H in J){g(H,J[H])
}}else{s.tags[J]=I
}return this
},registerHelpers:k=function(J,I){if(typeof J==="object"){var H;
for(H in J){k(H,J[H])
}}else{s.helpers[J]=I
}return this
},encode:function(I,H){return H?(C[I||"html"]||C.html)(H):""
},encoders:C={none:function(H){return H
},html:function(H){return String(H).replace(t,F)
}},renderTag:function(J,H,P,M,Q){var O,K,N,L=arguments,I=s.presenters;
hash=Q._hash,tagFn=s.tags[J];
if(!tagFn){return""
}M=M&&H.tmpl.nested[M-1];
Q.tmpl=Q.tmpl||M||i;
if(I&&I[J]){K=p(p({},Q.ctx),Q);
delete K.ctx;
delete K._path;
delete K.tmpl;
Q.ctx=K;
Q._ctor=J+(hash?"="+hash.slice(0,-1):"");
Q=p(p({},tagFn),Q);
tagFn=s.tags.each
}Q._encode=P;
Q._view=H;
O=tagFn.apply(Q,L.length>5?r.call(L,5):[H.data]);
return O||(O===i?"":O.toString())
}},render:E=function(I,H,L,P,J,N){var K,M,S,Q,O,R="";
if(arguments.length===2&&I.jsViews){P=I;
L=P.ctx;
I=P.data
}H=e.template(H);
if(!H){return""
}if(e.isArray(I)){Q=new z(L,J,P,I);
M=I.length;
for(K=0,M=I.length;
K<M;
K++){S=I[K];
O=S?H(S,new z(L,J,Q,S,H,this)):"";
R+=s.activeViews?"<!--item-->"+O+"<!--/item-->":O
}}else{R+=H(I,new z(L,J,P,I,H))
}return s.activeViews?"<!--tmpl("+(J||"")+") "+(N?"tag="+N:H._name)+"-->"+R+"<!--/tmpl-->":R
},template:function(I,H){if(H){if(""+H===H){H=l(H)
}else{if(m&&H instanceof e){H=H[0]
}}if(H){if(m&&H.nodeType){H=e.data(H,"tmpl")||e.data(H,"tmpl",l(H.innerHTML))
}s.templates[H._name=H._name||I||"_"+f++]=H
}return H
}return I?""+I!==I?(I._name?I:e.template(null,I)):s.templates[I]||e.template(null,w.test(I)?I:v(I)):null
}});
s.setDelimiters("{{","}}");
function j(M,H,J,O,K,L,I,N){return J?((O?K?("$view."+K):J:("$data."+J))+(L||"")):I||(H||"")
}function l(N){var M,L=0,O=[],H=[],K=H,J=[,,H];
function P(Q){Q-=L;
if(Q){K.push(N.substr(L,Q).replace(q,"\\n"))
}}function I(X,ae,W,V,R,S,Z,ad,Y,aa){var U,ab="",ac=0,af=D,T=D;
function Q(an,ai,ah,ao,ag,al,ap,aq,am,aj,ak){return T?(T=!ap,(T?an:'"')):af?(af=!aq,(af?an:'"')):ao?(ai.replace(a,j)+ao):ag?ac?"":(U=A,"\b"+ai+":"):ah?(ac++,ai.replace(a,j)+"("):am?(ac--,")"):ai?ai.replace(a,j):al?",":aj?(ac?"":U?(U=D,"\b"):","):(T=ap,af=aq,'"')
}W=W||V;
P(aa);
if(R){if(s.allowCode){K.push(["*",S.replace(B,"$1")])
}}else{if(W){if(W==="else"){J=O.pop();
K=J[2];
ae=A
}S=(S?(S+" ").replace(h,Q).replace(x,function(ah,ai,ag){ab+=ai+",";
return""
}):"");
S=S.slice(0,-1);
M=[W,Z?ad||"none":"",ae&&[],"{"+ab+"_hash:'"+ab+"',_path:'"+S+"'}",S];
if(ae){O.push(J);
J=M
}K.push(M)
}else{if(Y){J=O.pop()
}}}L=aa+X.length;
if(!J){throw"Expected block tag"
}K=J[2]
}N=N.replace(u,"\\$1");
N.replace(n,I);
P(N.length);
return c(H)
}function c(R){var S,H,M,K=[],O=R.length,I="try{var views="+(m?"jQuery":"JsViews")+'.views,tag=views.renderTag,enc=views.encode,html=views.encoders.html,$ctx=$view && $view.ctx,result=""+\n\n';
for(M=0;
M<O;
M++){H=R[M];
if(H[0]==="*"){I=I.slice(0,M?-1:-3)+";"+H[1]+(M+1<O?"result+=":"")
}else{if(""+H===H){I+='"'+H+'"+'
}else{var N=H[0],T=H[1],Q=H[2],L=H[3],J=H[4],P=J+'||"")+';
if(Q){K.push(c(Q))
}I+=N==="="?(!T||T==="html"?"html("+P:T==="none"?("("+P):('enc("'+T+'",'+P)):'tag("'+N+'",$view,"'+(T||"")+'",'+(Q?K.length:'""')+","+L+(J?",":"")+J+")+"
}}}S=new Function("$data, $view",I.slice(0,-1)+";return result;\n\n}catch(e){return views.err(e);}");
S.nested=K;
return S
}function F(H){return b[H]||(b[H]="&#"+H.charCodeAt(0)+";")
}function v(H){try{return e(H)
}catch(I){}return H
}})(window);if(typeof(nfvalidate)=="undefined"){nfvalidate={}
}nfvalidate.validators=new Array();
nfvalidate.validators.push({name:"validation-required",doValidate:function(a){return !$(a).data("validation-required")||$(a).val()!=""
},errorMessage:function(a){return"Field is required"
}});
nfvalidate.validators.push({name:"validation-maxlength",doValidate:function(a){return !($(a).val().length>this.getMaxLength(a))
},errorMessage:function(a){return"Field cannot be more than "+this.getMaxLength(a)+" characters"
},getMaxLength:function(a){return parseInt($(a).data("validation-maxlength"))
}});
nfvalidate.findErrorMessage=function(a,b){return $(a).data(b.name+"-message")
};
nfvalidate.validateElement=function(a){return $.map(nfvalidate.validators,function(c,b){if($(a).data(c.name)===undefined){return null
}if(c.doValidate(a)==false){var d=nfvalidate.findErrorMessage(a,c);
if(d===undefined){d=c.errorMessage(a)
}return{element:a,message:d}
}else{return null
}})
};
nfvalidate.validate=function(c){var b=$.map(nfvalidate.validators,function(d,f){return"[data-"+d.name+"]"
}).join(",");
var a=$(c).find(b);
return $.map(a,function(d,f){return nfvalidate.validateElement(d)
})
};if(typeof(fodt)=="undefined"){fodt={}
}fodt.getData=function(a,b,d,c){$.ajax({url:a,data:b,cache:false,success:d,error:c})
};
fodt.rootUrl="/";
fodt.buildUrl=function(a){if(a.charAt(0)!="/"){return fodt.rootUrl+a
}else{return fodt.rootUrl+a.substring(1)
}};
$(function(){"placeholder" in document.createElement("input")||$("textarea[placeholder], input[placeholder]").addClass("gray").each(function(){var c=$(this),d=c.attr("placeholder");
c.val()==""&&c.val(d)
});
$("body").on("focus","textarea[placeholder].gray, input[placeholder].gray",function(){$(this).attr("rows",7).filter(".gray").removeClass("gray").val("")
});
$("form").on("submit",function(){$(this).find("textarea[placeholder].gray, input[placeholder].gray").removeClass("gray").val("")
})
});fodt.ajaxFormController=function(b){var a=this;
$(b).on("submit",function(){a.submit($(this));
return false
});
$(b).append($("<div>").addClass("working").html("Please Wait"));
$(b).append($("<div>").addClass("messages").html("Please Wait"))
};
$.extend(fodt.ajaxFormController.prototype,{onSuccess:function(b,a){return
},onError:function(b,a){return
},onBefore:function(a){return
},onAfter:function(a){return
},submit:function(a){var b=this;
$.ajax({url:a.attr("action"),type:"POST",data:a.serialize(),beforeSend:function(){a.find("div.messages").empty().hide();
a.find("div.working").hide();
a.find("span.error").remove();
var e=nfvalidate.validate(a);
if(e.length>0){for(var d=0;
d<e.length;
d++){var c=e[d];
$(c.element).after($("<span>").addClass("error").html(c.message))
}return false
}b.onBefore(a);
a.find("div.working").show()
},complete:function(){a.find("div.working").hide();
b.onAfter(a)
},success:function(c){if(c.redirect){window.location.href=c.redirect
}else{b.onSuccess(a,c)
}},error:function(c,e,d){a.find("div.messages").empty().html("An Error Occured, Please Try Again").show();
b.onError(a,c)
}})
}});fodt.paginatedTable=function(a){var b=this;
b.tableSelector=a;
$(a).addClass("paginated");
$(a).on("fodt.dataLoaded",function(h,f,c,d){$(b.tableSelector).data("page-current",f);
$(b.tableSelector).data("page-itemsperpage",c);
$(b.tableSelector).data("items-total",d);
var g=Math.floor(d/c)+((d%c)!=0?1:0);
if(f<=1){$(a).find("caption > .page.prev").hide()
}else{$(a).find("caption > .page.prev").show()
}if(f>=g){$(a).find("caption > .page.next").hide()
}else{$(a).find("caption > .page.next").show()
}$(a).find("caption > .page-number").html("Page "+f+" of "+g)
});
$(a).find("caption > .page.prev").on("click",function(c){c.preventDefault();
var d=$(b.tableSelector).data("page-current")-1;
b.onPrev(d,$(b.tableSelector).data("page-itemsperpage"))
});
$(a).find("caption > .page.next").on("click",function(c){c.preventDefault();
var d=$(b.tableSelector).data("page-current")+1;
b.onNext(d,$(b.tableSelector).data("page-itemsperpage"))
})
};
$.extend(fodt.paginatedTable.prototype,{tableSelector:null,onPrev:function(b,a){return
},onNext:function(b,a){return
}});fodt.slideshowController=function(a){var b=this;
b.container=a;
b.images=a.find("li")
};
$.extend(fodt.slideshowController.prototype,{slideshowIntervalInMilliseconds:5000,intervalHandle:null,currentIndex:-1,start:function(){var a=this;
this.images.css("display","none").css("position","absolute").css("opacity","0");
this.images.on("click",function(){a.resetInterval();
a.showNextImage()
});
this.resetInterval();
this.showNextImage()
},resetInterval:function(){var a=this;
if(a.intervalHandle!=null){clearInterval(a.intervalHandle);
a.intervalHandle=null
}this.intervalHandle=setInterval(function(){a.onInterval()
},a.slideshowIntervalInMilliseconds)
},onInterval:function(){this.showNextImage()
},showImage:function(a){if(a>=this.images.length){return
}if(this.currentIndex!=-1){var b=$(this.images[this.currentIndex]);
b.animate({opacity:0},500,function(){b.css("display","none")
})
}this.currentIndex=a;
var c=$(this.images[this.currentIndex]);
c.css("display","block").animate({opacity:1},500)
},showNextImage:function(){var a=this.currentIndex+1;
if(a>=this.images.length){a=0
}this.showImage(a)
}});